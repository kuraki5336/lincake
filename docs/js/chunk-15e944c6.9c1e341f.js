(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-15e944c6"],{"25f0":function(e,t,n){"use strict";var r=n("6eeb"),o=n("825a"),a=n("d039"),s=n("ad6d"),i="toString",c=RegExp.prototype,l=c[i],u=a((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),d=l.name!=i;(u||d)&&r(RegExp.prototype,i,(function(){var e=o(this),t=String(e.source),n=e.flags,r=String(void 0===n&&e instanceof RegExp&&!("flags"in c)?s.call(e):n);return"/"+t+"/"+r}),{unsafe:!0})},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,n){var r=n("1d80"),o=n("5899"),a="["+o+"]",s=RegExp("^"+a+a+"*"),i=RegExp(a+a+"*$"),c=function(e){return function(t){var n=String(r(t));return 1&e&&(n=n.replace(s,"")),2&e&&(n=n.replace(i,"")),n}};e.exports={start:c(1),end:c(2),trim:c(3)}},7156:function(e,t,n){var r=n("861d"),o=n("d2bb");e.exports=function(e,t,n){var a,s;return o&&"function"==typeof(a=t.constructor)&&a!==n&&r(s=a.prototype)&&s!==n.prototype&&o(e,s),e}},9038:function(e,t,n){"use strict";n("cf77")},"998f":function(e,t,n){"use strict";n.r(t);var r=n("7a23"),o=Object(r["hb"])("data-v-32d32699");Object(r["G"])("data-v-32d32699");var a={class:"example"},s=Object(r["m"])("div",{class:"theme"},[Object(r["m"])("h1",null,"websocket 測試"),Object(r["m"])("p",null,"簡易測試websocket 1.用戶端通知指定用戶端 2.服務端通知用戶端")],-1),i=Object(r["m"])("h2",null,"最新消息",-1),c=Object(r["m"])("hr",null,null,-1),l=Object(r["m"])("h2",null,"註冊ID",-1),u=Object(r["m"])("hr",null,null,-1),d=Object(r["m"])("h2",null,"訊息佇列",-1),b=Object(r["m"])("hr",null,null,-1),p=Object(r["m"])("h2",null,"錯誤佇列",-1),f=Object(r["m"])("hr",null,null,-1),g={class:"row"},m=Object(r["m"])("label",{class:"el_form_label"},"請選擇對象",-1),h=Object(r["m"])("option",{value:"all",key:"all"}," 全體 ",-1),O={class:"row"},v=Object(r["m"])("label",{class:"el_form_label"},"請輸入文字",-1),j=Object(r["m"])("hr",null,null,-1);Object(r["E"])();var x=o((function(e,t,n,o,x,w){return Object(r["D"])(),Object(r["i"])("div",a,[s,i,Object(r["m"])("span",null,Object(r["R"])(o.state.nowMessage),1),c,l,Object(r["m"])("span",null,Object(r["R"])(o.state.genID),1),u,d,(Object(r["D"])(!0),Object(r["i"])(r["b"],null,Object(r["L"])(o.state.messageList,(function(e){return Object(r["D"])(),Object(r["i"])("span",{key:e},Object(r["R"])(e),1)})),128)),b,p,(Object(r["D"])(!0),Object(r["i"])(r["b"],null,Object(r["L"])(o.state.errList,(function(e){return Object(r["D"])(),Object(r["i"])("span",{key:e},Object(r["R"])(e),1)})),128)),f,Object(r["m"])("div",g,[m,Object(r["eb"])(Object(r["m"])("select",{class:"el_input_inner","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.seluserid=t})},[h,(Object(r["D"])(!0),Object(r["i"])(r["b"],null,Object(r["L"])(o.state.userlist,(function(e,t){return Object(r["D"])(),Object(r["i"])("option",{class:"el_input_dropdown_item",value:e,key:t},Object(r["R"])(e),9,["value"])})),128))],512),[[r["Y"],e.seluserid]])]),Object(r["m"])("div",O,[v,Object(r["eb"])(Object(r["m"])("input",{class:"el_input_inner",type:"text","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.mtempstr=t})},null,512),[[r["Z"],e.mtempstr]])]),j,Object(r["m"])("button",{class:"el_button el_button--primary",onClick:t[3]||(t[3]=function(t){return w.sendmsg(e.mtempstr)})}," 送出 ")])})),w=(n("d3b7"),n("25f0"),n("a9e3"),n("4de4"),null),_=!1;w=new WebSocket("ws://localhost:8001/");var k=function(e){return Number(Math.random().toString().substr(3,e)+Date.now()).toString(36)},y={connected:1,send:2,close:3},I=Object(r["H"])({messageList:[],errList:[],nowMessage:"",nowError:"",userlist:[],genID:Object(r["g"])((function(){return k()}))}),N=function(){w.onopen=function(){console.log("websocket connected!!"),w.send(JSON.stringify({type:y.connected,id:I.genID,msg:""})),_=!0},w.onmessage=function(e){var t,n,r;try{t=JSON.parse(e.data)}catch(o){t=e.data}switch(t.type){case 4:n=JSON.parse(t.msg),console.log(n),r=n.filter((function(e){return e!==I.genID})),I.userlist=r;break;case 2:t.target!==I.genID&&t.source!==I.genID&&"all"!==t.target||(I.nowMessage=t.msg,I.messageList.push(t.msg));break;default:break}console.log("onmessage",t)},w.onerror=function(e){I.errList.push(e),I.nowError=e,console.log(e)},w.onclose=function(){console.log("close"),w.send(JSON.stringify({type:y.close,id:I.genID,msg:""})),_=!1}},E=function(){I.messageList=[],I.errList=[],I.nowMessage="",I.nowError=""},S=function(e){var t=e.msg,n=e.target;_&&w.send(JSON.stringify({type:y.send,id:I.genID,target:n,msg:t}))},D={state:I,socketinit:N,clearMsg:E,sksend:S},L={name:"websocket",setup:function(){var e=D.state,t=D.socketinit,n=D.sksend;return t(),{state:e,sksend:n}},created:function(){},data:function(){return{seluserid:"",mtempstr:""}},methods:{sendmsg:function(e){var t={msg:e,target:this.seluserid};this.sksend(t),this.mtempstr=""}}};n("9038");L.render=x,L.__scopeId="data-v-32d32699";t["default"]=L},a9e3:function(e,t,n){"use strict";var r=n("83ab"),o=n("da84"),a=n("94ca"),s=n("6eeb"),i=n("5135"),c=n("c6b6"),l=n("7156"),u=n("c04e"),d=n("d039"),b=n("7c73"),p=n("241c").f,f=n("06cf").f,g=n("9bf2").f,m=n("58a8").trim,h="Number",O=o[h],v=O.prototype,j=c(b(v))==h,x=function(e){var t,n,r,o,a,s,i,c,l=u(e,!1);if("string"==typeof l&&l.length>2)if(l=m(l),t=l.charCodeAt(0),43===t||45===t){if(n=l.charCodeAt(2),88===n||120===n)return NaN}else if(48===t){switch(l.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+l}for(a=l.slice(2),s=a.length,i=0;i<s;i++)if(c=a.charCodeAt(i),c<48||c>o)return NaN;return parseInt(a,r)}return+l};if(a(h,!O(" 0o1")||!O("0b1")||O("+0x1"))){for(var w,_=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof _&&(j?d((function(){v.valueOf.call(n)})):c(n)!=h)?l(new O(x(t)),n,_):x(t)},k=r?p(O):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),y=0;k.length>y;y++)i(O,w=k[y])&&!i(_,w)&&g(_,w,f(O,w));_.prototype=v,v.constructor=_,s(o,h,_)}},ad6d:function(e,t,n){"use strict";var r=n("825a");e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},c18d:function(e,t,n){var r=n("24fb");t=r(!1),t.push([e.i,".example[data-v-32d32699]{margin:auto;max-width:980px}.theme[data-v-32d32699]{background-color:#fff}.theme h1[data-v-32d32699]{font-size:28px;color:#1f2d3d;margin:0}.theme p[data-v-32d32699]{font-size:14px;color:#5e6d82;line-height:1.5em}h2[data-v-32d32699]{margin:55px 0 20px;font-size:20px;color:#333}h2[data-v-32d32699],span[data-v-32d32699]{font-weight:700}span[data-v-32d32699]{font-size:16px;color:#666}.row[data-v-32d32699],span[data-v-32d32699]{display:block}.el_input_inner[data-v-32d32699]{-webkit-appearance:none;background-color:#fff;background-image:none;border-radius:4px;border:1px solid #dcdfe6;box-sizing:border-box;color:#606266;display:inline-block;font-size:inherit;height:40px;line-height:40px;outline:none;padding:0 15px;transition:border-color .2s cubic-bezier(.645,.045,.355,1);width:100%}.el_input_dropdown_item[data-v-32d32699]{padding:0 20px;position:relative;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;height:34px;line-height:34px;cursor:pointer}.el_form_label[data-v-32d32699],.el_input_dropdown_item[data-v-32d32699]{font-size:14px;color:#606266;box-sizing:border-box}.el_form_label[data-v-32d32699]{text-align:right;vertical-align:middle;float:left;line-height:40px;padding:0 12px 0 0}.el_button[data-v-32d32699]{display:inline-block;line-height:1;white-space:nowrap;cursor:pointer;background:#fff;border:1px solid #dcdfe6;color:#606266;-webkit-appearance:none;text-align:center;box-sizing:border-box;outline:none;margin:0;transition:.1s;font-weight:500;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;padding:12px 20px;font-size:14px;border-radius:4px}.el_button--primary[data-v-32d32699]{color:#fff;background-color:#409eff;border-color:#409eff}",""]),e.exports=t},cf77:function(e,t,n){var r=n("c18d");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var o=n("499e").default;o("054844fb",r,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=chunk-15e944c6.9c1e341f.js.map